local function cleanInvisWalls()
    local count = 0
    for _, obj in pairs(game.Workspace:GetDescendants()) do
        if obj:IsA("BasePart") and obj.Transparency >= 0.8 and obj.CanCollide == true then
            if not obj:FindFirstChildOfClass("TouchTransmitter") then
                obj:Destroy()
                count = count + 1
            end
        end
    end
    return count
end

local function runCleanAndFix()
    local count = cleanInvisWalls()
    Rayfield:Notify({Title = "Legacy Cleaner", Content = "Limpou " .. count .. " objetos.", Duration = 3})
end

local function runOverhaul()
    local count = cleanInvisWalls()
    Rayfield:Notify({Title = "Overhaul", Content = "Limpeza avançada concluída!", Duration = 3})
end

-- [[ FUNÇÕES DE LIMPEZA - COLE ISSO LOGO ACIMA DA TABMAP ]] --
local function cleanInvisWalls()
    local count = 0
    for _, obj in pairs(game.Workspace:GetDescendants()) do
        if obj:IsA("BasePart") and obj.Transparency >= 0.8 and obj.CanCollide == true then
            if not obj:FindFirstChildOfClass("TouchTransmitter") then
                obj:Destroy()
                count = count + 1
            end
        end
    end
    return count
end

local function runCleanAndFix()
    local count = cleanInvisWalls()
    Rayfield:Notify({Title = "Legacy Cleaner", Content = "Limpou " .. count .. " objetos.", Duration = 3})
end

local function runOverhaul()
    local count = cleanInvisWalls()
    Rayfield:Notify({Title = "Overhaul", Content = "Limpeza avançada concluída!", Duration = 3})
end
